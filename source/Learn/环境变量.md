---
author: Chong
title: 环境变量
date: 2024-01-31 23:03:55
tags:
categories:
thumbnail: ./thumb.png
---

我们平时在装有些软件时，要配置环境变量，那么为什么要配置？它起什么作用？
<!-- more -->

#### 什么是环境变量

是在操作系统中一个具有特定名字的对象，它包含了一个或多个应用程序所将使用到的信息, 例如: 如系统临时文件夹位置、系统文件夹位置、某些应用软件文件的路径等等...

当要求系统运行一个程序但是又没有告诉它这个程序所在的完整路径时，系统**默认会在当前目录**下面寻找这个程序,如果找不到就会到环境变量中的 path 中指定的路径去找, 所以我们用户可以通过设置环境变量，来更好的运行程序!

例：当我们在 cmd 命令行窗口中输入 `qq` 时：

<div align=center><img src="./环境变量/1.png" width="100%" height="100%"></div>
提示

```
'qq' is not recognized as an internal or external command
```

所以这种方式不能打开 QQ 程序的，如果我们非要在 cmd 中打开 QQ 程序，我们要进入并且找到这个程序的 bin 目录下的 qq.exe 执行程序！

我电脑中的 QQ 路径为：`D:\Program Files (x86)\QQ\QQ\Bin`

在 cmd 中进入该路径且输入`QQ.exe`

<div align=center><img src="./环境变量/2.png" width="100%" height="100%"></div>

所以我们是可以通过命令行中进入到执行程序的位置进行打开该程序，这个效果跟你在桌面点击快捷方式是一个效果。如果关掉 cmd 后重新打开，再次输入 QQ 其实又是同样的问题，这就意味着你要从 cmd 打开 QQ 必须每次按照刚才的步骤进行打开，并且你还必须要切换到这个 QQ 的 bin 目录下才行，这样就很麻烦了（当然这只是个例子，我们完全可以通过快捷方式打开程序）。

那么有没有办法让我们在随便哪个目录中都可以直接使用 cmd 输入一个 QQ 就可以打开的办法呢?

这时就要使用到**环境变量**！你只要把刚刚那个 bin 目录的路径添加到环境变量中的系统变量下的 **path** 就可以了，这里的 path 也就是环境变量中用来指定**可执行文件的绝对路径**，这里配置了很多路径，彼此之间用分号隔开!这里操作以 windows 10 为例，步骤如下：

`右键点击此电脑 ---> 属性 ---> 高级系统设置 ---> 环境变量`

<div align=center><img src="./环境变量/3.png" width="100%" height="100%"></div>

然后找到`系统环境变量 ---> Path ---> 编辑 ---> 新建`

<div align=center><img src="./环境变量/4.png" width="100%" height="100%"></div>

<div align=center><img src="./环境变量/5.png" width="100%" height="100%"></div>

复制你 QQ 安装目录下的 bin 路径到新建的对话框中

<div align=center><img src="./环境变量/6.png" width="100%" height="100%"></div>

<div align=center><img src="./环境变量/7.png" width="100%" height="100%"></div>

最后全部点击确定即可！这时你就可以在 cmd 中的任意目录、任意盘符下进行打开这个应用程序了！
总之，**环境变量** 的主要作用就是规定了某些系统文件的所在位置！

#### 用户变量和系统变量的区别

- 用户变量：在环境变量中的用户变量配置只会当前所登录的系统用户生效, 也就是说登录的系统用户可以对他自己所配置的环境变量参数进行增删改 , 不同用户的用户变量之间是独立存在的,并且互不干扰的
  
- 系统环境变量：在环境变量中系统变量的配置会对所有用户都会有效, 也就是说如果系统变量被修改了，那么任何一个用户都将受到影响!但是只有管理员账户才有权限进行系统变量的设置, 普通系统用户是不能够去修改系统变量的

#### 如何自定义环境变量命令

当我们想通过 cmd 来运行一个自己定义的命令时，就会出现不是内部或外部命令，也不是可运行的程序 或批处理文件的提示信息!

但是如果我们在cmd中输入一个 shutdown 命令则可以完全正常执行!

<div align=center><img src="./环境变量/8.png" width="100%" height="100%"></div>

这个原因也很简单,正因为 shutdown 在环境变量中定义了它这个命令所在的路径,而test这个命令则没有!

shutdown命令的默认路径是在 `C:\Windows\System32` 目录下, 包括一些常见的cmd命令其实都在这个目录下

<div align=center><img src="./环境变量/9.png" width="100%" height="100%"></div>

而 `C:\Windows\System32` 这个路径也是默认安装系统的时候就被定义在了环境变量当中, 就跟之前定义 QQ 应用程序也是一个道理！

所以根据这个道理我们也可以自定义一个环境变量来进行调用！要知道变量就是一个可变化的量 我们就利用这个特点来自己定义一个系统变量然后调用它来打开某个应用程序

我这里要打开微信，当然你完全可以依照之前的办法在 path 中把微信的 WeChat.exe 路径加入到其中, 但是这样子做不够灵活！我们可以先在系统变量中定义一个 weixin 然后值设置为微信目录地址！

<div align=center><img src="./环境变量/10.png" width="100%" height="100%"></div>

<div align=center><img src="./环境变量/11.png" width="100%" height="100%"></div>

设置好后，我们现在就可以对它进行调用！在 path 中把刚刚自定义好的 weixin 这个变量加入到其中，格式为 `%变量名%`

<div align=center><img src="./环境变量/12.png" width="100%" height="100%"></div>

这样一来以后你只需要去修改变量的值 path 中就会自动获取到了！接下来就可以去 cmd 中尝试一下打开这个应用程序

**！！！但是这样在 cmd 中用 weixin 启动不成功，即使在变量值中改成 `D:\Program Files (x86)\WeChat\WeChat` 也还是不行，网上查了一些原因也没解决**

#### 为什么编程开发要配置环境变量

知道什么是环境变量以后，现在应该明白我们在开发 java、python、php 之前需要配置的环境变量的原因了吧！

比如 Java 我们就需要把 JDK 的 bin 目录添加到环境变量的 path 中，这样我们就可以在任意目录下使用 bin 下面的 .exe 可执行程序 javac.exe

javac.exe 用来处理 .java 源代码文件，是把源代码文件编译为字节码文件的一个工具,经过 javac.exe 这个工具编译 java 源代码文件后形成的 .class 就是字节码文件

java.exe 用来处理 .class 字节码文件进行执行的，也就是 JVM 解释执行 java 程序, 从而实现 java 程序的运行

而他们都在 bin 目录下, 这都是为了能够方便的使用这些开发语言所带有的编译解释工具和命令, 所以我们才要配置环境变量。如果环境变量配置不成功，在 cmd 中去输入 java 就会提示找不到某某的关键词 

所以在开始学习 java 或者其他一些开发语言的时候，为了操作方便必须要配置一下环境变量 从而达到能够正常运行 java 的环境, 其他一些语言也是以此类推!
