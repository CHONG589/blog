---
author: Chong
title: scanf相关知识   
date: 2024-01-30 15:08:35
tags:
categories:
thumbnail: ./thumb.png
---
<!-- more -->

**1.** scanf 里面不能像 printf 那样在里面输入 \n,因为在 scanf 中你在里面写了什么，在输入的时候你要原模原样的输入回去。
例：
- `scacnf("%d,%d",&i,&j);`
这时你输入 i 和 j 时中间就要输入逗号才能正确输入。

- `scanf("%d %d",&i,&j);`
这时你就要在输入 i 和 j 的中间要加上一个空格。

- `scanf("%d\n",&i);`
这时你在输入 i 后还要输入 \n 才能结束。

- 如果你在里面没有输入其他，如:
`scanf("%d%d",&i,&j);`
则你输入 i 和 j 时的间隔符可以是**空格、回车、Tab**。

**2.** scanf 在用 %s 输入字符串时，输入的字符串中**不能有空格、Tab、回车键**等，它会作为当前输入的结束，即空格、Tab、回车键后面的字符不会再输入进去。

- 用 %s 也是非常危险的操作，当你输入的字符串超过了接收数组容量时，它不会报错，而是原样输入进去，这样就发生了**越界**现象，使之存到了这个数组之外的空间中
  
- scanf 会返回一个值，当你在 scanf中输入两个值时，`scanf("%d%d",&i,&j);`如果正确输入，则会返回2，若输入错误，则返回不是2的值。所以它在放入循环中时要进行输入是否正确判断，若输入的格式不对，如本来要输入整型值的你输入字符类型，那么你输入错误，则会从你上一次输入的值中取。
  
    ```
    int i;
    while(1){
        int ret = scanf("%d",&i);
        if(ret != 1)
            break;
        printf("i = %d\n",i);
    }
    ```
    或
    ```
    int i;
    while(scanf("%d",&i)){
        
        printf("i = %d\n",i);
    }
    ```

    如果你没进行判断跳出，只要中间你输入一个错误，它就会一直输出你上一次输入的值，一直死循环。

**3. 在用连续的 scanf 时，输入一个字符后，按回车确定的回车符会被下一个 scanf 吸收。（常常会在循环中遇到这种问题，导致出错）**

这种错误尤其是在循环中要求输入的字符为 char 时，因为回车符就是 char 。

当在连续两个 scanf 使用时,当输入的是 int 时不会

```
scanf("%c",&i);
scanf("%c",&j);
```

这样输入时，你输入第一个值 i 时，然后回车确定，再输入 j 时，此时 j 接收的是回车符。可以用 getchra() 吃掉一个回车符。

```
scanf("%c",&i);
getchar();
scanf("%c",&j);
```

**总结**
所以在循环中有输入规定格式的值时，要判断输入的值正不正确，即判断 scanf 返回的值，可以将加入到 while(scanf()) 中判断

当输入的值为 char 时，要注意输入后确定的回车符，也会被当作输入值输入进去，要用一个来吸收回车符，输入值为 int 时，不会被吸收，因为回车符为 char。
    

